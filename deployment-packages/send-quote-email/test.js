const func = require('./index');

const sampleRes = {
  totalCost: 8240.2507425,
  vat: 392.3928925,
  vatRate: 0.05,
  yearsPayback: 0,
  annualYield: 4922.5,
  systemSize: 5.5,
  panelQuantity: 20,
  batterySize: 5,
  co2Savings: 48.480964125,
  projectReference: '44064CR4 1EE',
  postcode: 'CR4 1EE',
  irradienceZone: '1',
  irradiationLevel: 895,
  roofPitch: 40,
  azimuth: 55,
  assumedEnergyInflation: 0,
  energyUnitCost: 0.2,
  twentyYearOutlook: [
    {
      demand: 3500,
      unitCost: 0.2,
      billBefore: 773,
      solarGeneration: 4922.5,
      collectorEfficiency: 1,
      electricityUseFromSolar: 2419.208600866357,
      savingsFromSolar: 483.84172017327137,
      billAfter: 289.15827982672863,
      roi: -7756.4090223267285,
      totalSaving: 483.84172017327137,
    },
    {
      demand: 3500,
      unitCost: 0.20800000000000002,
      collectorEfficiency: 0.995,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 801.0000000000001,
      solarGeneration: 4897.8875,
      savingsFromSolar: 503.19538898020227,
      billAfter: 297.80461101979785,
      roi: -7253.213633346526,
      totalSaving: 987.0371091534737,
    },
    {
      demand: 3500,
      unitCost: 0.21632000000000004,
      collectorEfficiency: 0.99,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 830.1200000000001,
      solarGeneration: 4873.275,
      savingsFromSolar: 523.3232045394104,
      billAfter: 306.7967954605897,
      roi: -6729.890428807115,
      totalSaving: 1510.3603136928841,
    },
    {
      demand: 3500,
      unitCost: 0.22497280000000006,
      collectorEfficiency: 0.985,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 860.4048000000003,
      solarGeneration: 4848.6625,
      savingsFromSolar: 544.2561327209869,
      billAfter: 316.14866727901335,
      roi: -6185.634296086128,
      totalSaving: 2054.616446413871,
    },
    {
      demand: 3500,
      unitCost: 0.23397171200000005,
      collectorEfficiency: 0.98,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 891.9009920000002,
      solarGeneration: 4824.05,
      savingsFromSolar: 566.0263780298263,
      billAfter: 325.87461397017387,
      roi: -5619.607918056302,
      totalSaving: 2620.6428244436975,
    },
    {
      demand: 3500,
      unitCost: 0.24333058048000006,
      collectorEfficiency: 0.975,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 924.6570316800002,
      solarGeneration: 4799.4375,
      savingsFromSolar: 588.6674331510194,
      billAfter: 335.98959852898076,
      roi: -5030.940484905283,
      totalSaving: 3209.310257594717,
    },
    {
      demand: 3500,
      unitCost: 0.25306380369920006,
      collectorEfficiency: 0.97,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 958.7233129472003,
      solarGeneration: 4774.825,
      savingsFromSolar: 612.2141304770602,
      billAfter: 346.5091824701401,
      roi: -4418.726354428222,
      totalSaving: 3821.524388071777,
    },
    {
      demand: 3500,
      unitCost: 0.2631863558471681,
      collectorEfficiency: 0.965,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 994.1522454650883,
      solarGeneration: 4750.2125,
      savingsFromSolar: 636.7026956961427,
      billAfter: 357.44954976894564,
      roi: -3782.0236587320796,
      totalSaving: 4458.22708376792,
    },
    {
      demand: 3500,
      unitCost: 0.27371381008105483,
      collectorEfficiency: 0.96,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1030.9983352836919,
      solarGeneration: 4725.599999999999,
      savingsFromSolar: 662.1708035239884,
      billAfter: 368.82753175970345,
      roi: -3119.852855208091,
      totalSaving: 5120.397887291908,
    },
    {
      demand: 3500,
      unitCost: 0.28466236248429705,
      collectorEfficiency: 0.955,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1069.3182686950397,
      solarGeneration: 4700.9875,
      savingsFromSolar: 688.657635664948,
      billAfter: 380.66063303009173,
      roi: -2431.195219543143,
      totalSaving: 5809.055522956856,
    },
    {
      demand: 3500,
      unitCost: 0.29604885698366895,
      collectorEfficiency: 0.95,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1109.1709994428413,
      solarGeneration: 4676.375,
      savingsFromSolar: 716.203941091546,
      billAfter: 392.96705835129535,
      roi: -1714.9912784515973,
      totalSaving: 6525.259464048402,
    },
    {
      demand: 3500,
      unitCost: 0.3078908112630157,
      collectorEfficiency: 0.945,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1150.617839420555,
      solarGeneration: 4651.7625,
      savingsFromSolar: 744.8520987352077,
      billAfter: 405.76574068534717,
      roi: -970.1391797163895,
      totalSaving: 7270.11156278361,
    },
    {
      demand: 3500,
      unitCost: 0.32020644371353635,
      collectorEfficiency: 0.94,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1193.7225529973773,
      solarGeneration: 4627.15,
      savingsFromSolar: 774.6461826846161,
      billAfter: 419.07637031276124,
      roi: -195.49299703177348,
      totalSaving: 8044.757745468226,
    },
    {
      demand: 3500,
      unitCost: 0.3330147014620778,
      collectorEfficiency: 0.9349999999999999,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1238.5514551172723,
      solarGeneration: 4602.537499999999,
      savingsFromSolar: 805.6320299920008,
      billAfter: 432.9194251252716,
      roi: 610.1390329602273,
      totalSaving: 8850.389775460226,
    },
    {
      demand: 3500,
      unitCost: 0.3463352895205609,
      collectorEfficiency: 0.9299999999999999,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1285.1735133219631,
      solarGeneration: 4577.924999999999,
      savingsFromSolar: 837.8573111916808,
      billAfter: 447.31620213028236,
      roi: 1447.996344151908,
      totalSaving: 9688.247086651907,
    },
    {
      demand: 3500,
      unitCost: 0.36018870110138335,
      collectorEfficiency: 0.9249999999999999,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1333.6604538548418,
      solarGeneration: 4553.3125,
      savingsFromSolar: 871.371603639348,
      billAfter: 462.28885021549377,
      roi: 2319.367947791256,
      totalSaving: 10559.618690291256,
    },
    {
      demand: 3500,
      unitCost: 0.3745962491454387,
      collectorEfficiency: 0.9199999999999999,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1384.0868720090355,
      solarGeneration: 4528.7,
      savingsFromSolar: 906.226467784922,
      billAfter: 477.8604042241135,
      roi: 3225.594415576178,
      totalSaving: 11465.845158076178,
    },
    {
      demand: 3500,
      unitCost: 0.3895800991112563,
      collectorEfficiency: 0.9149999999999999,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1436.530346889397,
      solarGeneration: 4504.0875,
      savingsFromSolar: 942.4755264963189,
      billAfter: 494.054820393078,
      roi: 4168.069942072497,
      totalSaving: 12408.320684572496,
    },
    {
      demand: 3500,
      unitCost: 0.4051633030757066,
      collectorEfficiency: 0.9099999999999999,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1491.0715607649731,
      solarGeneration: 4479.474999999999,
      savingsFromSolar: 980.1745475561718,
      billAfter: 510.89701320880135,
      roi: 5148.244489628669,
      totalSaving: 13388.495232128667,
    },
    {
      demand: 3500,
      unitCost: 0.42136983519873483,
      collectorEfficiency: 0.9049999999999999,
      electricityUseFromSolar: 2419.208600866357,
      billBefore: 1547.7944231955719,
      solarGeneration: 4454.862499999999,
      savingsFromSolar: 1019.3815294584186,
      billAfter: 528.4128937371532,
      roi: 6167.626019087087,
      totalSaving: 14407.876761587086,
    },
  ],
  yearsToPayback: 14,
  item1:
    'Supply, Installation, Commissioning and Handover of Solar Photovoltaic System ( 5.5 kWdc )',
  item2:
    'Supply, Installation, Commissioning and Handover of Battery Storage System ( 5 kWdc )',
  additionalItems: [
    { 'Grid Application': 160 },
    { 'Sofar Solar 5000 HYD Hybrid Inverter': 258.4 },
  ],
  address: '34 Manor Way, Mitcham, CR4 1EE',
  name: 'asd',
  email: 'seifk007.319@wcgs.foliotrust.uk',
  firstYearUse: {
    demand: [
      354.3587611808691,
      309.8576313255128,
      315.84308653825997,
      272.91901798175775,
      262.21863229745804,
      241.77524725392541,
      246.7150732475204,
      250.9415479852989,
      259.88210021114617,
      297.13316257341944,
      326.380073304274,
      361.9756661005306,
    ],
    solar: [
      140.31492219145073,
      261.55180070379475,
      422.21731314268783,
      579.5707186455425,
      722.3648492854652,
      567.0768949675667,
      605.675832658722,
      595.4642873424092,
      471.16445421269776,
      296.6833650876563,
      136.9475004688988,
      123.46806129310791,
    ],
    export: [
      45.84723483532908,
      146.8093455440406,
      276.9766332632712,
      428.24619450365714,
      560.9167088779516,
      413.91667453497496,
      451.5027667526415,
      453.52277099272834,
      345.2927595229198,
      183.41052114593472,
      49.980046850363735,
      37.51649489585604,
    ],
    selfConsumptionWithoutBattery: [
      94.46768735612163,
      114.74245515975417,
      145.24067987941672,
      151.32452414188546,
      161.4481404075138,
      153.16022043259179,
      154.17306590608032,
      141.94151634968097,
      125.87169468977795,
      113.27284394172152,
      86.96745361853512,
      85.95156639725191,
    ],
    demandAfterSolar: [
      259.89107382474754,
      195.1151761657586,
      170.60240665884334,
      121.5944938398723,
      100.7704918899443,
      88.61502682133363,
      92.54200734144003,
      109.00003163561789,
      134.01040552136823,
      183.86031863169782,
      239.412619685739,
      276.0240997032786,
    ],
    exportAfterBattery: [
      45.52657362779996,
      101.0934246662026,
      115.42963028761137,
      83.24186211644218,
      68.75615534009535,
      59.43655350544307,
      60.555738654762436,
      73.38563708184664,
      93.18341913383507,
      106.32148850805305,
      46.29677757902166,
      37.41949208491183,
    ],
    selfConsumptionTotal: [
      139.9942609839216,
      215.83587982595677,
      260.6703101670281,
      234.56638625832764,
      230.20429574760914,
      212.59677393803486,
      214.72880456084278,
      215.32715343152762,
      219.05511382361303,
      219.59433244977458,
      133.26423119755677,
      123.37105848216373,
    ],
    demandTotal: [
      214.36450019694752,
      94.02175149955602,
      55.17277637123186,
      38.35263172343011,
      32.014336549848906,
      29.178473315890557,
      31.98626868667762,
      35.61439455377129,
      40.82698638753314,
      77.53883012364486,
      193.11584210671722,
      238.60460761836686,
    ],
  },
};

func.handler(sampleRes, {});
